@page "/claimed-codes"
@rendermode InteractiveServer
@using Microsoft.AspNetCore.Components.Web
@inject IJSRuntime JS

<h1>Mine Koder</h1>

<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        @foreach (var offer in claimedOffers)
        {
            <DiscountCard MerchantName="@offer.MerchantName" MerchantLogo="@offer.MerchantLogo"
                Description="@offer.Description" DiscountPercentage="@offer.DiscountPercentage" Price="@offer.Price"
                AvailableCodes="@offer.AvailableCodes" ShowAvailableCodes="false" ShowCode="true"
                DiscountCode="@GetDiscountCode(offer.Id)" MerchantWebsite="@offer.MerchantWebsite" />
        }
    </div>
</div>

@code {
    private UserProfile currentUser = new()
    {
        Name = "Kyle Sevenoaks",
        AvatarUrl = "https://ui-avatars.com/api/?name=Kyle+Sevenoaks&background=0D8ABC&color=fff",
        UnionName = "Tech Workers Union"
    };

    private string GetDiscountCode(int offerId)
    {
        return offerId switch
        {
            1 => "ODEON25OFF",
            2 => "NFKINO50OFF",
            3 => "AMAZON30OFF",
            4 => "UBEREATS20OFF",
            _ => "UNKNOWN"
        };
    }

    private List<DiscountOffer> claimedOffers = new()
{
new DiscountOffer
{
Id = 1,
MerchantName = "Odeon",
MerchantLogo = "https://ui-avatars.com/api/?name=Odeon&background=396eca&color=fff",
Description = "Rabaterte priser på kinobilletter for medlemmer",
DiscountPercentage = 25,
Price = 49m,
MerchantWebsite = "https://www.odeonkino.no/pa-kino-na",
AvailableCodes = 0
},
new DiscountOffer
{
Id = 2,
MerchantName = "NF Kino",
MerchantLogo = "https://ui-avatars.com/api/?name=NF+Kino&background=e91b72&color=fff",
Description = "Ekstra rabaterte priser på kinobilletter for medlemmer",
DiscountPercentage = 50,
Price = 39m,
MerchantWebsite = "https://www.nfkino.no",
AvailableCodes = 0
},
@* new DiscountOffer
{
Id = 3,
MerchantName = "Amazon",
MerchantLogo = "https://ui-avatars.com/api/?name=Amazon&background=FF9900&color=fff",
Description = "Prime membership discount for first-time subscribers",
DiscountPercentage = 30,
MerchantWebsite = "https://www.amazon.com"
},
new DiscountOffer
{
Id = 4,
MerchantName = "Uber Eats",
MerchantLogo = "https://ui-avatars.com/api/?name=Uber+Eats&background=000000&color=fff",
Description = "Save on your next 3 food deliveries",
DiscountPercentage = 20,
MerchantWebsite = "https://www.ubereats.com"
} *@
};

    public class UserProfile
    {
        public string Name { get; set; } = "";
        public string AvatarUrl { get; set; } = "";
        public string UnionName { get; set; } = "";
    }

    public class DiscountOffer
    {
        public int Id { get; set; }
        public string MerchantName { get; set; } = "";
        public string MerchantLogo { get; set; } = "";
        public string Description { get; set; } = "";
        public int DiscountPercentage { get; set; }
        public decimal Price { get; set; }
        public string MerchantWebsite { get; set; } = "";
        public int AvailableCodes { get; set; }
    }
}